<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>VK ID Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <h2>Войти через VK ID</h2>
  <div id="vkid-container"></div>
  <p id="status"></p>

  <!-- Підключаємо SDK з двох різних CDN -->
  <script src="https://unpkg.com/@vkid/sdk@3.0.0/dist/umd/index.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@vkid/sdk@3.0.0/dist/umd/index.js"></script>

  <script>
    function initVKID() {
      if (!window.VKID) {
        document.getElementById("status").innerText = "Не удалось загрузить VKID SDK.";
        console.error("VKID SDK не подгрузился");
        return;
      }

      const VKID = window.VKID;

      VKID.Config.init({
        app: 54164270, // твій ID додатку
        redirectUrl: "https://920volkova.github.io/vk-oauth-redirect/",
        responseMode: VKID.ConfigResponseMode.Callback,
        source: VKID.ConfigSource.LOWCODE,
      });

      // рендеримо кнопку
      VKID.Auth.render(
        document.getElementById("vkid-container"),
        {
          lang: "ru",
          theme: VKID.ConfigTheme.LIGHT,
          buttonStyle: VKID.ConfigButtonStyle.PRIMARY,
        }
      );

      document.getElementById("status").innerText = "VKID SDK загружен ✅";
      console.log("VKID SDK готов к работе");
    }

    // чекаємо поки все завантажиться
    window.onload = initVKID;
  </script>
</body>
</html>
